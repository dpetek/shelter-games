{% extends "layout.html" %}

{% block title %}Shelter Games{% endblock %}

{% block styles %}
    {{ super() }}
{% endblock %}

{% block scripts %}
    {{ super() }}

    <script type="application/javascript">
        $(document).ready(function(){
            $('#toggle-answer').click(function() {
                $("#question-div").slideToggle();
                $("#answer-div").slideToggle();
            });
            $('#skip-question').click(function() {
                $.ajax({
                    url: "{{ url_for('wits_skip') }}",
                    type: "POST",
                    dataType: "json",
                    data: {"id": $(this).attr("value") },
                    success: function(data) {
                        if (data.error) {
                            $("#error-alert").text(data.error).show();
                            return;
                        }
                        location.reload(true);
                    },
                    error: function(data) { 
                        $("#error-alert").text(data.error).show();
                    }
                }); 
            });
        });
    </script>
{% endblock %}

{% block main_content %}
{{ super() }}

<div class="row">
    <div class="col-lg-1">&nbsp;</div>
    <div class="col-lg-10">
        <div class="alert alert-danger hidden" id="error-alert" role="alert"></div>
        <div class="panel panel-default" id="active-question-panel">
            <div class="panel-heading">
                Active Question
            </div>
            <div class="panel-body">
                <div class="col-sm-2">&nbsp;</div>
                <div class="col-sm-8">
                    <div class="row" id="question-div">
                        <img src="{{ question_file }}" width="100%" />
                    </div>
                    <div class="row collapse" id="answer-div">
                        <img src="{{ answer_file }}" width="100%" />
                    </div>
                </div>
                <div class="col-sm-2">&nbsp;</div>
            </div>
        </div>
    </div>
    <div class="col-lg-1">&nbsp;</div>
</div>

<div class="row">
    <div class="col-lg-1">&nbsp;</div>
    <div class="col-lg-10">
        <div class="alert alert-danger hidden" id="error-alert" role="alert"></div>
        <div class="panel panel-default" id="answers-panel">
            <div class="panel-heading">
                Answers
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-2">
                        <div class="thumbnail">
                            <div class="caption">
                                <h3>Low</h3>
                                <p>Everyone is bust.</p>
                                {% if true %}
                                <p>
                                    <a href="#" class="btn btn-default" role="button">$1</a>
                                    <a href="#" class="btn btn-default" role="button">$5</a>
                                    <a href="#" class="btn btn-default" role="button">$10</a>
                                </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="thumbnail">
                            <div class="caption">
                                <h3>3.1</h3>
                                <p>Sim1</p>
                                {% if true %}
                                <p>
                                    <a href="#" class="btn btn-default" role="button">$1</a>
                                    <a href="#" class="btn btn-default" role="button">$5</a>
                                    <a href="#" class="btn btn-default" role="button">$10</a>
                                </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="thumbnail">
                            <div class="caption">
                                <h3>4.3</h3>
                                <p>Dpetek</p>
                                {% if true %}
                                <p>
                                    <a href="#" class="btn btn-default" role="button">$1</a>
                                    <a href="#" class="btn btn-default" role="button">$5</a>
                                    <a href="#" class="btn btn-default" role="button">$10</a>
                                </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="thumbnail">
                            <div class="caption">
                                <h3>10.1</h3>
                                <p>TDWang</p>
                                {% if true %}
                                <p>
                                    <a href="#" class="btn btn-default" role="button">$1</a>
                                    <a href="#" class="btn btn-default" role="button">$5</a>
                                    <a href="#" class="btn btn-default" role="button">$10</a>
                                </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="thumbnail">
                            <div class="caption">
                                <h3>High</h3>
                                <p>Everyone is a bit too low.</p>
                                {% if true %}
                                <p>
                                    <a href="#" class="btn btn-default" role="button">$1</a>
                                    <a href="#" class="btn btn-default" role="button">$5</a>
                                    <a href="#" class="btn btn-default" role="button">$10</a>
                                </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-1">&nbsp;</div>
</div>

<div class="row">
    <div class="col-lg-2">&nbsp;</div>
    <div class="col-lg-8">
        <div class="alert alert-danger hidden" id="error-alert" role="alert"></div>
        <div class="panel panel-default">
            <div class="panel-heading">
                Admin Actions
            </div>
            <div class="panel-body">
                <div class="col-lg-4">
                    <div class="input-group">
                        <input type="text" class="form-control" id="game-name" placeholder="Game Name ...">
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default advance-game" value="{{game["id"]}}" aria-label="Left Align">
                                <span class="glyphicon glyphicon-forward" aria-hidden="true"></span> Input Answer
                            </button>
                        </span>
                    </div><!-- /input-group -->
                </div>
                <div class="col-lg-4">
                    <button type="button" class="btn btn-default advance-game" value="{{game["id"]}}" id="toggle-answer" aria-label="Left Align">
                        <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> Toggle Answer
                    </button>
                    <button type="button" class="btn btn-default" value="{{game["id"]}}" id="skip-question" aria-label="Left Align">
                        <span class="glyphicon glyphicon-fast-forward" aria-hidden="true"></span> Skip Question
                    </button>
                </div>
                <div class="col-lg-4">&nbsp;</div>
            </div>
        </div>
    </div>
    <div class="col-lg-2">&nbsp;</div>
</div>

{% endblock %}
